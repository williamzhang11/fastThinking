# 什么是微服务

微服务架构风格是一种使用一套小服务开发单个应用的方式途径，每个服务运行在自己的进程中，并使用轻量级机制通信，通常是
http api，这些基于业务能力构建，并能够通过自动化部署机制来独立部署，这些服务可用使用不同语言实现，不同数据存储技术，
并保持最低限度的集中式管理。



## 为什么需要微服务？

### 1.最期的单体架构带来的问题

(1) 复杂性逐渐变高

(2) 技术债务逐渐上升

(3) 部署速度逐渐变慢

(4)阻碍技术创新

(5)无法按需伸缩

### 微服务与单体架构区别

1.单体架构所有的模块全都耦合在一块，代码量大，维护困难，微服务每个模块就相当于一个单独的项目，
代码量明显减少，遇到问题也相对来说比较好解决。

2.单体架构所有的模块都共用一个数据库，存储方式比较单一，微服务每个模块都可以使用不同的存储
方式（比如有的用redis，有的用mysql等），数据库也是单个模块对应自己的数据库

3.单体架构所有的模块都共用一个数据库，存储方式比较单一，微服务每个模块都可以使用不同的存储
方式（比如有的用redis，有的用mysql等），数据库也是单个模块对应自己的数据库


![image](https://github.com/williamzhang11/fastThinking/blob/master/src/main/java/com/xiu/fastThinking/image/singleandmicoservice.JPG)



### 微服务本质

1.微服务，关键其实不仅仅是微服务本身，而是系统要提供一套基础的架构，这种架构使得微服务可以独立的部署、
运行、升级，不仅如此，这个系统架构还让微服务与微服务之间在结构上“松耦合”，而在功能上则表现为一个统一的整
体。这种所谓的“统一的整体”表现出来的是统一风格的界面，统一的权限管理，统一的安全策略，统一的上线过程，统
一的日志和审计方法，统一的调度方式，统一的访问入口等等。

2.微服务的目的是有效的拆分应用，实现敏捷开发和部署

3.微服务提倡的理念团队间应该是定义好系统的边界和接口，在一个团队内全栈，让团队自治，原因就是因
为如果团队按照这样的方式组建，将沟通的成本维持在系统内部，每个子系统就会更加内聚，彼此的依赖耦合
能变弱，跨系统的沟通成本也就能降低。

### 什么样的项目适合微服务


能不能做成微服务，取决于四个要素：
小：微服务体积小，2 pizza 团队。
独：能够独立的部署和运行。
轻：使用轻量级的通信机制和架构。
松：为服务之间是松耦合的。


### 微服务折分与设计

拆分的大原则是当一块业务不依赖或极少依赖其它服务，有独立的业务语义，为超过2个的其他服务或客户端提供数
据，那么它就应该被拆分成一个独立的服务模块。

6.1 微服务设计原则

单一职责原则

意思是每个微服务只需要实现自己的业务逻辑就可以了，比如订单管理模块，它只需要处理订单的业务逻辑就可以了，其它的不必考虑。

服务自治原则

意思是每个微服务从开发、测试、运维等都是独立的，包括存储的数据库也都是独立的，自己就有一套完整的流程，
我们完全可以把它当成一个项目来对待。不必依赖于其它模块。

轻量级通信原则

首先是通信的语言非常的轻量，第二，该通信方式需要是跨语言、跨平台的，之所以要跨平台、跨语言就是为了让每
个微服务都有足够的独立性，可以不受技术的钳制。

接口明确原则

由于微服务之间可能存在着调用关系，为了尽量避免以后由于某个微服务的接口变化而导致其它微服务都做调整，在设计之
初就要考虑到所有情况，让接口尽量做的更通用，更灵活，从而尽量避免其它模块也做调整。


### 微服务优势与缺点

特性：

1.每个微服务可独立运行在自己的进程里；

2.一系列独立运行的微服务共同构建起了整个系统；

3.每个服务为独立的业务开发，一个微服务一般完成某个特定的功能，比如：订单管理，用户管理等；

4.微服务之间通过一些轻量级的通信机制进行通信，例如通过REST API或者RPC的方式进行调用。

优点：

1.易于开发和维护

2.启动较快

3.局部修改容易部署

4.技术栈不受限

5.按需伸缩


缺点：

1.运维要求较高

2.分布式的复杂性

3.接口调整成本高

4.重复劳动


### Sprint cloud 和 Sprint boot区别
Spring Boot:

旨在简化创建产品级的Spring应用和服务，简化了配置文件，使用嵌入式web服务器，含有诸多开箱即用微服务功能，可以和spring cloud联合部署。

Spring Cloud：

微服务工具包，为开发者提供了在分布式系统的配置管理、服务发现、断路器、智能路由、微代理、控制总线等开发工具包。



























